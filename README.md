# Online Store
Вэб-приложение интернет-магазина.\
Опубликовано на хостинге "DEPLOY -F"\
Ссылка на приложение: https://a22081-3f7d.b.d-f.pw/

## Используемые технологии и библиотеки
- ASP.NET CORE Framework
- шаблон Model-View-Controller (MVC)
- Razor pages
- Bootstrap
- MS SQL Server
- Entity Framework (EF)
- ASP.NET Identity (система аутентификации и авторизации)
- MimeKit (работа с электронной почтой)
- Serilog (журналы для диагностики)
- Яндекс JavaScript API и HTTP Геокодер (интерактивная карта)
- Яндекс API Геосаджеста (быстрый ввод и проверка адресов)

> [!NOTE]
> Для тестирования функций администратора:\
*логин: proPConlineShop@gmail.com*\
*пароль: adminADMIN123$*

## Описание приложения 
Вэб-приложение интернет-магазина состоит из двух проектов:
- "**OnlineShopWebApp**" (*ASP.NET Core Web App Model-View-Controller*)\
Веб-приложение основано на шаблоне Model-View-Controller.
Функционал для администратора отделен в область (area) "Admin". Администратор может управлять товарами, заказами, ролями и пользователями.
Пользователь может войти/зарегистрироваться, сбросить пароль, редактировать свои данные, просмотреть свои заказы, добавить товар в корзину и оформить заказ, добавить товар в избранное, добавить товар в сравнение. Только зарегистрированный пользователь может совершать действия "добавления". 
Для сопоставления моделей БД и представлений подключен сервис автомаппинга.
Взаимодействие с БД реализовано через Entity Framework (EF).
Для логирования запросов подключена библиотека Serilog.
Все репозитории добавлены в коллекцию сервисов (Dependency Injection).
Валидация данных осуществляется как на клиенте (использование атрибутов валидации при объявлении модели), так и на стороне сервера (ModelState.IsValid).
При попытки удаления данных (товаров, пользователей, ролей) использованы модальные окна для подтверждения операций.
Представления используют Razor pages и CSS-фреймворк Bootstrap.
При вводе адреса реализовано автоматическое дополнение с помощью Яндекс API Геосаджеста и отображение адреса на карте с помощью Яндекс JavaScript API и HTTP Геокодер.
При регистрации нового пользователя реализовано подтверждение электронной почты, а также сброс и восстановление пароля с помощью сервиса MimeKit.
Header, footer и боковое меню выполенны в виде частичных представлений.
Отображение аватара пользователя, количества товаров в корзине, избранном и списке сравнения реализовано с помощью компонент представлений.

- "**OnlineShop.Db**" (*Class Library*)\
Все объекты приложения хранятся в БД Microsoft SQL Server. База данных состоит из двух контекстов: DatabaseContext и IdentityContext. В первом хранятся все данные, связанные с продуктами и заказами. Второй контекст реализован с помощью ASP.NET Identity - системы аутентификации и авторизации, встроенной в ASP.NET. Здесь хранятся все данные, связанные с пользователями.
При запуске приложения проверяется, существуют ли роли Admin и User, а также пользователь "администратор по умолчанию". При необхидмости они создаются.
Если пользователь авторизовался с данными администратора, ему доступно меню администратора.
Работа с изображениями реализована с помощью интерфейса IFormFile.
В проекте применяются автоматические миграции.
Методы, которые обращаются к БД сделаны асинхронными.

---

![image](https://github.com/KirillFisenko/OnlineStore/assets/120630673/5f6baaa3-b651-41f8-8b2e-7ee63e0893f5)
